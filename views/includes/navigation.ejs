<div class="backdrop"></div>
<header class="main-header">
    <button id="side-menu-toggle">Menu</button>
    <nav class="main-header__nav">
        <ul class="main-header__item-list">
            <li class="main-header__item">
                <a class="<%= path === '/' ? 'active' : '' %>" href="/">Home</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/products' ? 'active' : '' %>" href="/products">Shop</a>
            </li>

            <% if(isAuthenticated){ 
                 if(admin){ %>

                    <li class="main-header__item">
                        <a class="<%= path === '/admin/add-product' ? 'active' : '' %>" href="/admin/add-product">Add Product
                        </a>
                    </li>
                    <li class="main-header__item">
                        <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">Admin Products
                        </a>
                    </li>

                <% } 
             } %>

        </ul>

        <ul class="main-header__item-list">
            <% if(!isAuthenticated){ %>

                <li class="main-header__item">
                    <a class="<%= path === '/login' ? 'active' : '' %>" href="/login">Login</a> 
                </li> 
                <li class="main-header__item">
                    <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup">Signup</a>
                </li>

            <% }else{ %>

                <li class="main-header__item">
                    <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart"><i class="bi bi-cart"></i></a>
                </li>
                <li class="main-header__item">

                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-person"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
                        <li><a class="dropdown-item" href="/orders">Orders</a></li>
                        <li class="main-header__item">
                            <form action="/logout" method="POST">
                                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                                <button type="submit">Logout</button>
                            </form>            
                        </li>                     
                        </ul>
                    </div>
                </li>

            <% } %>

        </ul>


    </nav>
</header>

<nav class="mobile-nav">
        <ul class="mobile-nav__item-list">
                <li class="mobile-nav__item">
                    <a class="<%= path === '/' ? 'active' : '' %>" href="/">Shop</a>
                </li>
                <li class="mobile-nav__item">
                    <a class="<%= path === '/products' ? 'active' : '' %>" href="/products">Products</a>
                </li>

                <% if(isAuthenticated){ %>

                    <li class="mobile-nav__item">
                        <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
                    </li>
                    <li class="mobile-nav__item">
                        <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
                    </li>

                    <% if(admin){ %>

                        <li class="mobile-nav__item">
                            <a class="<%= path === '/admin/add-product' ? 'active' : '' %>" href="/admin/add-product">Add Product
                            </a>
                        </li>
                        <li class="mobile-nav__item">
                            <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">Admin Products
                            </a>
                        </li>

                    <% } %>

                <% } %>

            </ul>
            <ul class="mobile-header__item-list">
                <% if(!isAuthenticated){ %>
    
                    <li class="mobile-header__item">
                        <a class="<%= path === '/login' ? 'active' : '' %>" href="/login">Login</a> 
                    </li> 
                    <li class="mobile-header__item">
                        <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup">Signup</a>
                    </li>
                    
                <% }else{ %>
    
                    <li class="mobile-header__item">
                        <form action="/logout" method="POST">
                            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                            <button type="submit">Logout</button>
                        </form>            
                    </li> 
    
                <% } %>
    
            </ul>
</nav>